!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("moment"),require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("anglar-datepicker",["exports","moment","@angular/core","@angular/forms","@angular/common"],t):t(e["anglar-datepicker"]={},e._moment,e.ng.core,e.ng.forms,e.ng.common)}(this,function(e,t,n,o,i){"use strict";var r=t,a=function(){function e(){this.months=[{value:1,label:"Jan"},{value:2,label:"Feb"},{value:3,label:"Mar"},{value:4,label:"Apr"},{value:5,label:"May"},{value:6,label:"Jun"},{value:7,label:"Jul"},{value:8,label:"Aug"},{value:9,label:"Sep"},{value:10,label:"Oct"},{value:11,label:"Nov"},{value:12,label:"Dec"}]}return e.prototype.generateMonthDate=function(e,t){e<10&&(e="0"+e);var n=Number(r(t+"-"+e+"-01T00:00:00").format("d"));if("Invalid date"===n)throw"Looks like something went wrong with day Generation"+arguments[0]+t;return n},e.prototype.getMonths=function(){return this.months},e.prototype.dateComposer=function(e,t){for(var n=[],o=0,i=0,r=0,a={week:[]};o<=t||r<=6;)if(i++,6<r&&(r=0),(e===r||0<o)&&o++,a.week.push({day:o<=t&&0<o?o:""}),6<++r&&(n.push(a),a={week:[]}),50<i)throw"While Loop exceeding the allowed limit !!!!"+e+t;return n},e.prototype.getMonthDates=function(e,t){var n=0;switch(e=Number(e),t=Number(t),e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:n=31;break;case 4:case 6:case 9:case 11:n=30;break;case 2:n=t%4==0?29:28;break;default:n=0}return n},e.prototype.getYear=function(){return(new Date).getFullYear()},e.prototype.getYears=function(){for(var e=[],t=1950;t<=2080;t++)e.push(Number(t));return e},e.prototype.getDateFormatted=function(e,t){return r(e).format(t)},e.prototype.getDateMoment=function(e){return r(e)},e.prototype.getMonth=function(){var e=new Date;return Number(e.getMonth())+1},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),s=function(){function e(e,t){this.datePickerService=e,this.changeDetect=t,this.position="bottom",this.dateFormat="DD-MMM-YYYY",this.pickerHeight=500,this.onDateSelect=new n.EventEmitter,this.inputOffset=26,this.positioned=!1,this.hide=!0,this.myInput=""}return e.prototype.ngOnInit=function(){this.items=["S","M","T","W","T","F","S"],this.months=this.datePickerService.getMonths(),this.years=this.datePickerService.getYears(),this.year=this.datePickerService.getYear(),this.month=this.datePickerService.getMonth(),this.genCalendarView(),document.body.appendChild(this.pickerCompRef.nativeElement),this.detectChanges()},e.prototype.positionBody=function(){this.positioned||this.positionElement(),this.openPicker()},e.prototype.writeValue=function(e){this.myInput=e,this.detectChanges()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onBlur=e},e.prototype.positionElement=function(){var e=this.pickerCompRef.nativeElement;e.style.top=this.elementTop+"px",e.style.left=this.elementLeft+"px",this.positioned=!0},e.prototype.getPosition=function(){var e=this.pickerInput.nativeElement.getBoundingClientRect(),t=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,n=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;switch(this.elementTop=e.top+t,this.elementLeft=e.left+n,this.position){case"left":this.elementLeft-=300,this.elementTop-=this.inputOffset-20;break;case"right":this.elementLeft+=200,this.elementTop-=this.inputOffset-20;break;case"top":this.elementTop-=273;break;case"bottom":default:this.elementTop+=this.inputOffset}},e.prototype.ngOnDestroy=function(){this.pickerCompRef.nativeElement.outerHTML=""},e.prototype.onDateSelection=function(e){e<10&&(e="0"+e);var t=this.month;this.month<10&&(t="0"+this.month);var n=this.year+"-"+t+"-"+e,o={formattedDate:this.datePickerService.getDateFormatted(n,this.dateFormat),dateObject:this.datePickerService.getDateMoment(n)};this.myInput=o.formattedDate,this.onChange(this.myInput),this.onDateSelect.emit(o.dateObject),this.closePicker()},e.prototype.genCalendarView=function(){try{var e=this.datePickerService.generateMonthDate(this.month,this.year),t=this.datePickerService.getMonthDates(this.month,this.year);try{this.dateComposer=this.datePickerService.dateComposer(e,t),this.detectChanges()}catch(n){console.error(n)}}catch(n){console.error(n)}},e.prototype.gotoPrevMonth=function(){1===Number(this.month)?(this.month=12,this.year--):this.month--},e.prototype.gotoNextMonth=function(){12===Number(this.month)?(this.month=1,this.year++):this.month++},e.prototype.openPicker=function(){this.hide=!1,this.detectChanges()},e.prototype.closePicker=function(){this.hide=!0,this.detectChanges()},e.prototype.detectChanges=function(){this.changeDetect.detectChanges()},e.decorators=[{type:n.Component,args:[{selector:"anglar-datepicker",template:'<link href="https://fonts.googleapis.com/css?family=Material+Icons" rel="stylesheet">\r\n<input type="text" (click)="getPosition();positionBody()" [(ngModel)]="myInput" #pickerInput />\r\n<div #pickerCompRef [ngClass]="{\'hidePicker\': hide, \'showPicker\': !hide}" class="suplug-container date-navigation override">\r\n    <div (click)="closePicker()" class="close-icon">\r\n        <i class="material-icons">clear</i>\r\n    </div>\r\n    <div class="navigation-pagination">\r\n        <div class="left-pagination">\r\n        <a class="date-navigation" (click)="gotoPrevMonth();genCalendarView();" href="javascript:;"><i class="material-icons">arrow_back_ios</i></a>\r\n        </div>\r\n        <div class="right-pagination">\r\n            <a class="date-navigation" (click)="gotoNextMonth();genCalendarView();" href="javascript:;"><i class="material-icons">arrow_forward_ios</i></a>\r\n        </div>\r\n        <div class="month-navigation">\r\n            <select (change)="genCalendarView()" [(ngModel)]="month">\r\n                <option *ngFor="let m of months" value="{{m.value}}">{{m.label}}</option>\r\n            </select>\r\n\r\n            <select class="date-navigation" (change)="genCalendarView()" [(ngModel)]="year">\r\n                <option *ngFor="let y of years" value="{{y}}">{{y}}</option>\r\n            </select>\r\n        </div>  \r\n    </div>  \r\n    <table>\r\n        <tbody>\r\n            <tr>\r\n                <th *ngFor="let i of items">{{i}}</th>\r\n            </tr>\r\n            <tr *ngFor="let weekData of dateComposer">\r\n                <td (click)="onDateSelection(dayData.day)" *ngFor="let dayData of weekData[\'week\']">\r\n                    <span *ngIf="dayData.day !== \'\'">{{dayData.day}}</span>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n  </div>\r\n  ',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],styles:[".suplug-container.hidePicker{display:none}.suplug-container .material-icons{font-size:20px}.suplug-container.showPicker{display:inline-block}.suplug-container{border:1px solid #0a99c9;padding:10px;display:inline-block;background:#efefef;position:absolute}.suplug-container td,.suplug-container th{padding:6px 0;font-size:1em}.suplug-container td span{cursor:pointer;border:1px solid transparent;padding:7px}.suplug-container td span:hover{background:#ccc;border:1px solid #000;color:#fff}.suplug-container select{padding:3px;border:0;margin-right:10px}.suplug-container .navigation-pagination{margin:10px}.suplug-container .left-pagination{float:left}.suplug-container .month-navigation{text-align:center;padding-top:3px;margin-top:21px}.suplug-container .left-pagination a,.suplug-container .right-pagination a{font-size:1em;color:#000;text-decoration:none;font-weight:700;position:relative;top:3px}.suplug-container .left-pagination a:focus{border:0}.suplug-container .right-pagination{float:right}.suplug-container .close-icon{position:absolute;top:3px;right:3px;font-size:14px;color:#000;cursor:pointer}"]}]}],e.ctorParameters=function(){return[{type:a},{type:n.ChangeDetectorRef}]},e.propDecorators={position:[{type:n.Input,args:["position"]}],dateFormat:[{type:n.Input,args:["dateFormat"]}],onDateSelect:[{type:n.Output}],pickerCompRef:[{type:n.ViewChild,args:["pickerCompRef"]}],pickerInput:[{type:n.ViewChild,args:["pickerInput"]}]},e}(),c=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[s],imports:[o.FormsModule,o.ReactiveFormsModule,i.CommonModule],exports:[s]}]}],e}();e.DatepickerService=a,e.DatepickerComponent=s,e.AngularDatepickerModule=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=anglar-datepicker.umd.min.js.map